---
layout: post
title: (二) 理解c++的面向对象
categories: [现代c++学习笔记]
---

#### 一. 封装、继承、多态

##### 1. 封装

```
（1）提取客观事物的共同的、本质性的特征，抽象为类。
（2）作用：隐藏细节，使得代码模块化。代码重用。
```

##### 2. 继承

```
（1）无需重复编写，在现有类的基础上拓展新的功能。
（2）作用：代码重用。
```

##### 3. 多态

```
（1）使用子类成员初始化父类。例如电脑上只有一个usb接口，基类实现读入u盘，子类实现读入硬盘，驱动鼠标等功能，那么需要相应功能的时候，用子类的成员初始化父类即可。
（2）作用：接口重用。
```

#### 二. 内存机制

##### 1. 内存分区

```
（1）堆（heap）：用户使用new等操作分配释放的内存在堆区，程序结束才会被系统释放，用户在使用过程中忘记释放的行为称作内存泄漏。其实现为操作系统有记录空闲内存地址的链表，当用户申请时，遍历链表找到第一个满足需求的内存块。
（2）栈（stack）：系统为局部变量、函数的参数分配释放的内存在栈区，随着函数生命周期的结束而结束。实现方式类似栈容器，因为函数的调用恰好是后入先出的。
（3）全局区（也称静态存储区，static）：这里的全局指的是全局生命周期，而不是作用域。所以全局变量和静态变量的内存都在全局区。
（4）常量区（const）：存放常量的区域，一般指const修饰的全局变量，而const修饰的局部变量在栈中。
（5）代码区（code）：存放源程序二进制代码。
```

||变量|常量|
|------|------|------|
|全局|全局区|常量区|
|局部|栈|栈|

##### 2. 类的初始化

```
（1）静态成员变量：静态成员变量不存在于函数当中，而是在类中定义；类中的成员变量会在对象创建时初始化，如果不对静态成员变量进行特殊操作，就和静态的定义相矛盾。所以需手动初始化，可以理解为静态成员变量属于类。
（2）成员变量：创建对象的时候为成员变量申请内存。可以理解为成员变量属于对象。
（3）静态成员函数：
（4）成员函数：类中定义的成员函数自动成为内联函数。内联函数相当于c++版本的宏定义，将调用函数优化成插入代码，减少了函数调用产生的压栈、代码区跳转开销，使得运行效率更高，缺点是代码量（文件）会变大。类外未使用inline添加的成员函数存储在代码区，所有对象共享，可以理解为成员函数属于类。
```

|作用域/生命周期|全局|局部|
|------|------|------|
|全局|全局变量|×|
|局部|静态变量|局部变量|

#### 三. 多态

##### 1. 重载（overload）、覆盖（override）



